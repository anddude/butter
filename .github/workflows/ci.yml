name: CI                # The name you see in GitHub

on:
  pull_request:         # WHEN this runs
    branches: [main]

jobs:
  ci:                   # A job named "ci"
    runs-on: ubuntu-latest  # WHAT computer runs it

    steps:
      - uses: actions/checkout@v4   # Step 1: get your code
      - uses: actions/setup-node@v4 # Step 2: install Node
        with:
          node-version: 20

      - run: npm ci     # Step 3: install dependencies
      - run: npm run build --if-present
      - run: npm test --if-present